{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Control Tec\\\\Desktop\\\\vs-challenge\\\\veus\\\\products\\\\src\\\\components\\\\UpdateProduct.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport api from '../api';\nimport { withRouter } from 'react-router-dom';\n\nclass UpdateProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      brand: '',\n      price: '',\n      amount: ''\n    };\n    this.handleFieldChange = this.handleFieldChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    const productId = this.props.match.params.id;\n    axios.get(api.products + \"/\".concat(productId) + '?' + api.token).then(response => {\n      this.setState({\n        name: response.data.name,\n        brand: response.data.brand,\n        price: response.data.price,\n        amount: response.data.amount\n      });\n    });\n  }\n\n  handleFieldChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  onSubmit(event) {\n    event.preventDefault();\n    const history = this.props.history;\n    const product = {\n      name: this.state.name,\n      brand: this.state.brand,\n      price: this.state.price,\n      amount: this.state.amount\n    };\n    axios.post(api.products + '/' + this.props.match.params.id, product).then(response => {\n      history.push('/');\n    }).catch(error => {\n      this.setState({\n        errors: error.response.data.errors\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Criar novo produto\"), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(\"input\", {\n      id: \"name\",\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.handleFieldChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Marca\"), React.createElement(\"input\", {\n      id: \"brand\",\n      type: \"text\",\n      className: \"form-control\",\n      name: \"brand\",\n      value: this.state.brand,\n      onChange: this.handleFieldChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Pre\\xE7o\"), React.createElement(\"input\", {\n      id: \"price\",\n      type: \"number\",\n      className: \"form-control\",\n      name: \"price\",\n      value: this.state.price,\n      onChange: this.handleFieldChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"cpf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Quantidade\"), React.createElement(\"input\", {\n      id: \"amount\",\n      type: \"number\",\n      className: \"form-control\",\n      name: \"amount\",\n      value: this.state.amount,\n      onChange: this.handleFieldChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: () => this.props.history.goBack(),\n      className: \"btn btn-default\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Cancelar\"), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Atualizar\")))))));\n  }\n\n}\n\nexport default UpdateProduct;","map":{"version":3,"sources":["C:\\Users\\Control Tec\\Desktop\\vs-challenge\\veus\\products\\src\\components\\UpdateProduct.js"],"names":["axios","React","Component","api","withRouter","UpdateProduct","constructor","props","state","name","brand","price","amount","handleFieldChange","bind","onSubmit","componentDidMount","productId","match","params","id","get","products","token","then","response","setState","data","event","target","value","preventDefault","history","product","post","push","catch","error","errors","render","goBack"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { Component } from 'react'\r\nimport api from '../api'\r\nimport { withRouter } from 'react-router-dom'\r\n \r\nclass UpdateProduct extends Component {\r\n \r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      name: '',\r\n      brand: '',\r\n      price: '',\r\n      amount: ''\r\n    }\r\n    this.handleFieldChange = this.handleFieldChange.bind(this)\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n  }\r\n \r\n  componentDidMount () {\r\n    const productId = this.props.match.params.id\r\n \r\n    axios.get(api.products+`/${productId}` + '?' + api.token).then(response => {\r\n      this.setState({\r\n        name: response.data.name,\r\n        brand: response.data.brand,\r\n        price: response.data.price,\r\n        amount: response.data.amount\r\n      })\r\n    })\r\n  }\r\n \r\n  handleFieldChange (event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n \r\n  onSubmit (event) {\r\n    event.preventDefault();\r\n    const { history } = this.props\r\n    const product = {\r\n      name: this.state.name,\r\n      brand: this.state.brand,\r\n      price: this.state.price,\r\n      amount: this.state.amount\r\n    }\r\n    axios.post(api.products+'/'+this.props.match.params.id, product)\r\n      .then(response => {\r\n        history.push('/')\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          errors: error.response.data.errors\r\n        })\r\n      })\r\n  }\r\n \r\n  render () {\r\n    return (\r\n      <div className='container'>\r\n        <div className='row justify-content-center'>\r\n          <div className='col-md-12'>\r\n            <div className='card'>\r\n              <div className='card-header'>Criar novo produto</div>\r\n              <div className='card-body'>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className='form-group'>\r\n                    <label htmlFor='name'>Nome</label>\r\n                    <input\r\n                      id='name'\r\n                      type='text'\r\n                      className='form-control'\r\n                      name='name'\r\n                      value={this.state.name}\r\n                      onChange={this.handleFieldChange}\r\n                    />\r\n                  </div>\r\n                  <div className='form-group'>\r\n                    <label htmlFor='brand'>Marca</label>\r\n                    <input\r\n                      id='brand'\r\n                      type='text'\r\n                      className='form-control'\r\n                      name='brand'\r\n                      value={this.state.brand}\r\n                      onChange={this.handleFieldChange}\r\n                    />\r\n                  </div>\r\n                  <div className='form-group'>\r\n                    <label htmlFor='price'>Pre&ccedil;o</label>\r\n                    <input\r\n                      id='price'\r\n                      type='number'\r\n                      className='form-control'\r\n                      name='price'\r\n                      value={this.state.price}\r\n                      onChange={this.handleFieldChange}\r\n                    />\r\n                  </div>\r\n                  <div className='form-group'>\r\n                    <label htmlFor='cpf'>Quantidade</label>\r\n                    <input\r\n                      id='amount'\r\n                      type='number'\r\n                      className='form-control'\r\n                      name='amount'\r\n                      value={this.state.amount}\r\n                      onChange={this.handleFieldChange}\r\n                    />\r\n                  </div>                  \r\n                  <button onClick={ () => this.props.history.goBack()} className='btn btn-default'>Cancelar</button>\r\n                  <button className='btn btn-primary'>Atualizar</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n \r\nexport default UpdateProduct"]},"metadata":{},"sourceType":"module"}